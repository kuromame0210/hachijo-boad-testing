了解です。
以下は **さきほど出した「ANA＋東海汽船の技術検証用仕様書」**に、
**青ヶ島丸／ヘリ（東京愛らんどシャトル）**を **同じ粒度・同じ書き方で追記した完全版**です。

👉 **この文章をそのまま Codex に渡せば、
「何を／どこから／どういう前提で取得するか」が過不足なく伝わる**構成にしています。

---

# 技術検証用 指示仕様書（ANA／東海汽船／青ヶ島丸／ヘリ）

## 目的

八丈町のWebサイトで、以下 **4種類の交通手段の運行情報**を
**5分ごとに自動取得し、公式表示と一致する内容を、出典付きで公開できるか**を技術検証する。

### 対象交通

1. ANA（羽田 ⇄ 八丈島）
2. 東海汽船（東京 ⇄ 八丈島・大型客船）
3. 青ヶ島丸（八丈島 ⇄ 青ヶ島）
4. ヘリコプター（東京愛らんどシャトル：八丈島 ⇄ 青ヶ島）

共通条件：

* 表示内容は **公式サイト表示と一致**していること
* 更新間隔：**5分**
* フロントエンドから直接取得しない（サーバ側取得前提）
* 出典表示は必須
* 実装方法・コードはこの段階では不要（取得可能性の検証が目的）

---

## A) ANA（羽田 ⇄ 八丈島）

（※この章は既存仕様と同じ）

### 取得元

* 公共交通オープンデータセンター（ODPT）

  * `odpt:FlightInformationDeparture`
  * `odpt:FlightInformationArrival`
* APIキー（consumerKey）必須

### 対象便（固定）

* HND→HAC：ANA1891 / ANA1893 / ANA1895
* HAC→HND：ANA1892 / ANA1894 / ANA1896

### 取得・表示する情報

* 遅延
* 出発予定時刻
* 到着予定時刻
* 出発見込み時刻（あれば）
* 到着見込み時刻（あれば）
* ステータス（出発済／到着済／欠航 等）

### 出典表示

* 公共交通オープンデータセンター（ODPT）／全日空

---

## B) 東海汽船（東京 ⇄ 八丈島・大型客船）

### 取得元（役割分担）

1. **公式「本日の運航状況」ページ**
2. **公式「時刻表（乗船日検索）」ページ**

### 対象範囲

* 東京 → 八丈島
* 八丈島 → 東京
* 昨晩東京発 → 今朝八丈島着の便も「本日の便」として含める

### 取得・表示する情報

#### 運航状況ページから取得

* 就航 / 欠航
* 遅延（数値が出る日だけ）
* 出発予定時刻（出航時刻）
* 見込み時刻（表示される場合）
* 入出港地（底土港 / 八重根港 等、表示される場合）

#### 時刻表ページから取得

* 到着予定時刻（必須）

※ 到着予定時刻は、公式構造上「時刻表」を正とする。

### 出典表示

* 東海汽船 公式サイト（運航状況／時刻表）

---

## C) 青ヶ島丸（八丈島 ⇄ 青ヶ島）

### 取得元

* **青ヶ島丸の公式運航情報ページ**

  * 青ヶ島村または東京都が運営する公式ページ
  * 「本日の運航状況」「運航予定」等として公開されているページ

※ 公式APIは存在しない前提。
※ 公式HTMLページを **唯一の正** として扱う。

### 対象範囲

* 八丈島 → 青ヶ島
* 青ヶ島 → 八丈島
* 原則1日1往復（便数は固定で少ない）

### 取得・表示する情報（確実に取得可能）

* 就航 / 欠航
* 出発予定時刻
* 到着予定時刻
* 運航日かどうか
* 最終更新時刻

### 条件付きで取得・表示

* 遅延（表示される日があれば）
* 見込み情報（表示される場合のみ）

### 出典表示

* 青ヶ島丸 公式運航情報（青ヶ島村／東京都）

---

## D) ヘリコプター（東京愛らんどシャトル）

### 取得元

* **東京愛らんどシャトル 公式運航状況ページ**

  * 日付別・路線別に「本日の運航状況」が掲載されている公式ページ

※ APIは存在しない前提。
※ 公式HTMLページを **唯一の正** とする。

### 対象範囲

* 八丈島 ⇄ 青ヶ島
* 当日運航便（1便または複数便）

### 取得・表示する情報（確実に取得可能）

* 運航 / 欠航
* 出発予定時刻
* 到着予定時刻
* 便数（1便 / 2便 等）
* 最終更新時刻

### 条件付きで取得・表示

* 遅延（表示される日があれば）
* 見込み情報（表示される場合のみ）

### 出典表示

* 東京愛らんどシャトル 公式サイト

---

## 共通の検証ゴール（Codexが満たすべき条件）

* 各交通手段について
  「**公式ページを見た人と同じ情報**」が再現できる
* 5分ごとに取得できる（更新がなくても問題なし）
* 情報が出ない日は

  * 非表示
  * または「情報なし」
    で扱える
* 出典表示を含めた **公開用データ構造が成立する**

---

## 最終整理（取得可能性一覧）

| 交通   | 方法         | 就航/欠航 | 出発予定 | 到着予定 | 遅延 |
| ---- | ---------- | ----- | ---- | ---- | -- |
| ANA  | ODPT API   | ○     | ○    | ○    | ○  |
| 東海汽船 | 公式HTML＋時刻表 | ○     | ○    | ○    | △  |
| 青ヶ島丸 | 公式HTML     | ○     | ○    | ○    | △  |
| ヘリ   | 公式HTML     | ○     | ○    | ○    | △  |

（△＝表示される日だけ）

---

### 補足（重要な判断）

* **「取得できない可能性」は仕様として許容済み**
* **推定・補完・独自計算は一切しない**
* **公式が出しているものだけを、そのまま使う**

---

これで
**「今こうすれば、この情報は取得できる」**
という判断材料と指示情報は **すべて揃っています**。

次にやるべきは

* Codex にこの仕様を渡して
* 「取得可否」「構造」「壊れやすさ」を洗い出す
  だけです。

必要なら次は
👉 **この仕様を1ページのチェックリスト（検証観点表）**
👉 **Codex向けの命令文（Task分割前提）**
に落とします。
